<!DOCTYPE html>
<html lang="en">
  <head class="at-element-marker">
  <title>VMware vSphere: NetApp HCI with Cisco ACI</title>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1">
  <meta http-equiv="language" content="en">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:title" content="VMware vSphere: NetApp HCI with Cisco ACI" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://docs.netapp.com/hci-solutions/hcicaci_vmware_vsphere__netapp_hci_with_cisco_aci.html" />
	<meta property="og:description" content="TR-4857" />
  <meta property="og:image" content="https://docs.netapp.com/hci-solutions/images/logo-tophat-social.png" />
  <meta property="og:image:alt" content="NetApp Logo" />
  <meta name="format-detection" content="telephone=no">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="encoding" content="utf-8">
  <meta http-equiv="nss-type" content="Product Documentation"/>
  <meta http-equiv="nss-subtype" content="User Guide"/>
  
  <meta name="description" content="TR-4857">
  <meta name="keywords" content=" VMware vSphere, virtualization, workflow, ESXi, vCenter">
  
  

  <!-- Icons -->
  <link rel="icon" href="/hci-solutions/images/favicon.ico" type="image/x-icon">

  <!-- RSS Feed -->
  

  <!-- CSS Definitions: NetApp CSS should be defined after generic css -->

  <!-- Elastic Search -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/searchkit/0.10.0/theme.css">

  <!-- Controls AsciiDoctor Admonition Blocks -->
  <link rel="stylesheet" type="text/css" href="/hci-solutions/css/font-awesome.min.css">

  <!-- Controls the shadow effect for search dropdown menu -->
  <link rel="stylesheet" href="/hci-solutions/css/boxshadowproperties.css">

  <!-- NetApp CSS controls the technical content -->
  <link rel="stylesheet" type="text/css" href="/hci-solutions/css/netapp.css">

  <!-- WWW CSS Content -->
  <link rel="stylesheet" type="text/css" href="/hci-solutions/css/www-luci-dotcom.min.css">
  <link rel="stylesheet" type="text/css" href="/hci-solutions/css/www-netapp-dotcom.css">
  <link rel="stylesheet" href="/hci-solutions/css/www-netapp-library-critical.min.css" media="all" >
  <link rel="stylesheet" href="/hci-solutions/css/www-netapp-library-non-critical.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="stylesheet" href="/hci-solutions/css/www-netapp-library-global-header-footer.min.css">

  <!-- NetApp IE Customizations -->
  <link rel="stylesheet" href='/hci-solutions/css/na-utility.css' type='text/css'>
  <link rel="stylesheet" href='/hci-solutions/css/na-sidebar.css' type='text/css'>
  <link rel='stylesheet' href='/hci-solutions/css/clouddocs.css' type='text/css'>
  <link rel='stylesheet' href='/hci-solutions/css/na-pagenav.css' type='text/css'>

  

  
  <link rel='stylesheet' href='/hci-solutions/css/na-feature.css' type='text/css'>
  


  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <!-- Used to import Promise for IE. Required for SearchKit -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js"></script>
  
    <script src='/hci-solutions/js/na-search.js'></script>
  

  
  <script src='/hci-solutions/js/na-pagenav.js'></script>
  

  <link rel='stylesheet' href='/hci-solutions/css/prism.css' type='text/css'>
  <link rel='stylesheet' href='/hci-solutions/css/prism-netapp.css' type='text/css'>


<script src='/hci-solutions/js/na-utility.js'></script>
  <script src='/hci-solutions/js/clouddocs.js'></script>
  
  <script src="//assets.adobedtm.com/60287eadf1ee/c284da483c83/launch-e9ff3acac59f.min.js" async></script>
  

  <script src='/hci-solutions/js/jquery.navgoco.min.js'></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src='/hci-solutions/js/toc.js'></script>
  <script src='/hci-solutions/js/customscripts.js'></script>

  <script>
      $(document).ready(function() {
          
          var collapseOnInit = true;
          

          var navSettings = {
              "caretHtml": '',
              "accordion": collapseOnInit,
              "openClass": 'active', // open
              "save": false, // leave false or nav highlighting doesn't work right
              "cookie": {
                  "name": 'navgoco',
                  "expires": false,
                  "path": '/'
              },
              "slide": {
                  "duration": 400,
                  "easing": 'swing'
              }
          };

          // Initialize navgoco with default options
          $("#mysidebar").navgoco(navSettings);
          

          $("#collapseAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', false);
          });

          $("#expandAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', true);
          });

      });

  </script>
  <script>
      $(document).ready(function() {
          $("#tg-sb-link").click(function() {
              $("#tg-sb-sidebar").toggle();
              $("#tg-sb-content").toggleClass('col-md-9');
              $("#tg-sb-content").toggleClass('col-md-12');
              $("#tg-sb-icon").toggleClass('fa-toggle-on');
              $("#tg-sb-icon").toggleClass('fa-toggle-off');
          });
      });
  </script>

  <!-- Controls the i18n Browser Redirection -->
  <script>
    
    var siteLocales = [];
    
      siteLocales.push("us-en");
    

    standardizeUrl(siteLocales, "clouddocs.netapp.com", "https://docs.netapp.com");
    
  </script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-81697994-3"></script>
  <script>
  if (document.location.hostname === "docs.netapp.com") {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-81697994-3');
  }
  </script>
</head>


  <body class role="document">
    <div id="page" class="n-off-canvas-menu">
      <div class="n-off-canvas-menu__menu"><!--TODO: Add offcanvas code --></div>
      <div class="n-off-canvas-menu__content-wrap">
        <header class="site-header" id="banner">
  <!-- Start top_hat -->
  <div class="n-top-hat">
    <div class="n-container">
      <div class="n-top-hat__cross-property-nav">
        <ul class="n-top-hat__list">
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/products-a-z/" class="n-top-hat__link">Product and Solutions</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/support-and-training/netapp-university/" class="n-top-hat__link">Support and Training</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://cloud.netapp.com" class="n-top-hat__link">Cloud Central</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://community.netapp.com/" class="n-top-hat__link">Community</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://blog.netapp.com/" class="n-top-hat__link">Blog</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://customers.netapp.com/en/" class="n-top-hat__link">Customer Stories</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/us/contact-us/index.aspx" target="_self" class="n-top-hat__link" data-ntap-ui="contact-us">Contact</a>
          </li>
        </ul>
      </div>
      <div class="n-top-hat__utils">
        <ul class="n-top-hat__list">
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/us/contact-us/index.aspx" target="_self" class="n-top-hat__link" data-ntap-ui="contact-us">Contact</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!-- End top_hat -->

  <!-- Start property bar -->
  <style>
    .n-property-navigation-bar__menus--desktop-experience .n-menu--mega__default-content__heading span {
    color: #34B0FF;
    }
  </style>
  <div class="n-property-bar " data-ntap-ui="sticky-nav">
    <div class="n-property-bar__inner-wrap">
      <div class="n-property-bar__menu-toggle">
        <a href="#" class="n-property-bar__menu-toggle-link">
          <span class="n-property-bar__menu-toggle-text">Menu</span>
          <svg class="n-icon-bars n-property-bar__menu-toggle-icon" aria-labelledby="title">
            <title>bars</title>
            <use xlink:href="/hci-solutions/common/svg/sprite.svg#bars"></use>
          </svg>
        </a>
      </div>
      <div class="n-property-bar__property-mark ">
        <a href="https://www.netapp.com" class="n-property-bar__property-link">
          <div class="n-property-bar__logo">
            <svg class="n-icon-netapp-mark n-icon-netapp-mark n-property-bar__netapp-mark-icon" aria-labelledby="title">
              <title>netapp-mark</title>
              <use xlink:href="/hci-solutions/common/svg/sprite.svg#netapp-mark"></use>
            </svg>
            <svg class="n-icon-netapp-logo n-property-bar__logo-svg" aria-labelledby="title">
              <title>netapp-logo</title>
              <use xlink:href="/hci-solutions/common/svg/sprite.svg#netapp-logo"></use>
            </svg>
          </div>
        </a>
      </div>

      
      <div class="search-property-bar">
        <div id="search-demo-container" class="searchbox n-property-bar__search">
          <div id="react-search"></div>
          <button class="n-property-bar__search-toggle-button" type="button">
            <svg class="n-icon-search n-property-bar__search-toggle-button-icon" aria-labelledby="title">
              <title>search</title>
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/hci-solutions/common/svg/sprite.svg#search"></use>
            </svg>
          </button>
        </div>
      </div>
      
    </div>
  </div>
  <script>
    $(function(){
        var currentLocalization = $('html').attr('lang');

        var localizationsDictionary = {
            "en-CA" : "https://www.netapp.com/search/index.aspx?for_cr=canada&",
            "en-IN" : "https://www.netapp.com/search/index.aspx?for_cr=india&",
            "nl-NL" : "https://www.netapp.com/search/index.aspx?for_cr=netherlands&",
            "ru-RU" : "https://www.netapp.com/search/index.aspx?for_cr=russia&",
            "sv-SE" : "https://www.netapp.com/search/index.aspx?for_cr=sweden&",
            "it-IT" : "https://www.netapp.com/search/index.aspx?for_cr=italy&",
            "he-IL" : "https://www.netapp.com/search/index.aspx?for_cr=israel&",
            "ko-KR" : "https://www.netapp.com/search/index.aspx?for_cr=korea&",
            "zh-TW" : "https://www.netapp.com/search/index.aspx?for_cr=taiwan&",
            "en-GB" : "https://www.netapp.com/search/index.aspx?for_cr=unitedkingdom&",
            "en-SG" : "https://www.netapp.com/search/index.aspx?for_cr=asean&",
            "en-AU" : "https://www.netapp.com/search/index.aspx?for_cr=australia&",
            "pt-BR" : "https://www.netapp.com/search/index.aspx?for_cr=brasil&",
            "de-CH" : "https://www.netapp.com/search/index.aspx?for_cr=switzerland&",
            "es-MX" : "https://www.netapp.com/search/index.aspx?for_cr=mexico&"
        };

        if($('html').hasClass('ntap-whitelisted') && localizationsDictionary.hasOwnProperty(currentLocalization)) {
            $('.n-property-bar__property-link').attr('href', '/');
        }
    });
  </script>
  <!-- End property bar -->
</header>

        <div class="ie-utility">
  <div class="ie-menu">
    <div class="n-property-bar__toolbar"><!-- Start Language Selector -->
      <div id="ie-i18n" class="n-property-bar__lang-selector">
        <div id="ie-i18n-menu">
        <span class="ie-i18n-lang">English</span>
          <button class="ie-i18n-icon-container" type="button">
            <svg class="n-globe__icon" aria-labelledby="title">
              <title>globe</title>
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/hci-solutions/common/svg/sprite.svg#globe"></use>
            </svg>
          </button>
        </div>

        <div id="n-property-navigation-bar__menu--language-selector" class="ie-i18n-results-container n-menu n-menu--v3 n-menu--is-active" style="display: none;">
          <div class="n-language-selector-menu">
            <div class="n-language-selector-menu__header">
              <span class="n-language-selector-menu__title">Select Your Language</span>
            </div>
            <ul class="n-menu__list">
              <li class="n-menu__list-column">
                <ul class="n-menu__list">
                  
                  
                  
                  
                  <li class="n-menu__list-item n-menu__list-item--level-1">
                    <a href="/hci-solutions/us-en/" class="n-menu__header-text"><span translate="no" class="notranslate">English</span></a>
                  </li>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                </ul>
              </li>
            </ul>
            <div class="menu__footer">
              <p>Current Language: English
              </p>
            </div>
          </div>
        </div>
      </div>
      <!-- End Language Selector -->

      <div class="n-property-bar__cta"></div>
    </div>

    <div class="n-breadcrumb">
      <ul class="n-breadcrumb__list">
        <li class="n-breadcrumb__list-item">
          <a href="https://www.netapp.com">Home</a>
        </li>
        <li class="n-breadcrumb__list-item">
          <a href="https://docs.netapp.com">Documentation</a>
        </li>
        

        <li class="n-breadcrumb__list-item">
          <a href="/hci-solutions/">HCI</a>
        </li>
        <li class="n-breadcrumb__list-item">
          VMware vSphere: NetApp HCI with Cisco ACI
        </li>
      </ul>
    </div>

    <div style="clear: both"></div><!-- Main needs to have height -->
  </div>
</div>


        <main id="n-main-content" class="n-main-content">
          <!-- Start Documentation Content -->
<div class="ie-main">
  <!-- Sidebar Column -->
  
  <div class="col-md-3" >
      <div class="n-pdf-header">
  <a id="toggleButtonPdf" class="n-pdf-button" type="button">
    Download PDF
    <span>
      <img src="/hci-solutions/images/pdf.png" width="20" height="20"/>
    </span>
  </a>
</div>
<ul id="toggleContainerPdf" class="n-pdf-body" style="display:none;"><div class="n-pdf-section">
      <span class="n-pdf-section-title">
        Site
      </span>
    </div>
    <li>
      <a target="_blank" href="/hci-solutions/pdfs/fullsite-sidebar/NetApp_HCI_Solutions.pdf" >
        <img src="/hci-solutions/images/pdf.png" width="20" height="20"/>
        NetApp HCI Solutions
      </a>
    </li>
  


  

    
      
  


  


  


  


  




      

    

  


  

    
      
  

    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              
                This Document
              
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/hci-solutions/pdfs/sidebar/Hybrid_Cloud_VDI_with_NetApp_Virtual_Desktop_Service.pdf" >
            <img src="/hci-solutions/images/pdf.png" width="20" height="20"/>
            Hybrid Cloud VDI with NetApp Virtual Desktop Service
          </a>
        </li>
        <span>
          
  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  




          
        </span>
      </span>
    

  


  


  


  


  

    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              
                This Document
              
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/hci-solutions/pdfs/sidebar/HCI_for_Citrix_Virtual_Apps.pdf" >
            <img src="/hci-solutions/images/pdf.png" width="20" height="20"/>
            HCI for Citrix Virtual Apps
          </a>
        </li>
        <span>
          
  


  


  


  


  


  


  


  


  


  


  




          
        </span>
      </span>
    

  




      

    

  


  

    
      
  

    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              
                This Document
              
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/hci-solutions/pdfs/sidebar/NetApp_HCI_with_Red_Hat_Virtualization.pdf" >
            <img src="/hci-solutions/images/pdf.png" width="20" height="20"/>
            NetApp HCI with Red Hat Virtualization
          </a>
        </li>
        <span>
          
  


  


  

    
      
  


  


  


  


  


  


  


  




      

    

  


  

    
      
  


  


  




      

    

  


  




          
        </span>
      </span>
    

  


  

    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              
                This Document
              
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/hci-solutions/pdfs/sidebar/NetApp_HCI_with_Cisco_ACI.pdf" >
            <img src="/hci-solutions/images/pdf.png" width="20" height="20"/>
            NetApp HCI with Cisco ACI
          </a>
        </li>
        <span>
          
  


  


  


  

    
      
  
    <div class="n-pdf-section">
  <span class="n-pdf-section-title">
    This page
  </span>
</div>

<li class="active">
  <a target="_blank" href="/hci-solutions/pdfs/pages/hcicaci_vmware_vsphere__netapp_hci_with_cisco_aci.pdf" >
    <img src="/hci-solutions/images/pdf.png" width="20" height="20"/>
    VMware vSphere: NetApp HCI with Cisco ACI
  </a>
</li>


  


  


  


  


  


  




      

    

  


  


  




          
        </span>
      </span>
    

  




      

    

  


  

    
      
  


  


  


  

    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              
                This Document
              
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/hci-solutions/pdfs/sidebar/NetApp_HCI_with_Anthos.pdf" >
            <img src="/hci-solutions/images/pdf.png" width="20" height="20"/>
            NetApp HCI with Anthos
          </a>
        </li>
        <span>
          
  


  


  


  

    
      
  


  


  


  


  


  


  


  


  


  


  




      

    

  


  


  




          
        </span>
      </span>
    

  


  

    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              
                This Document
              
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/hci-solutions/pdfs/sidebar/NetApp_HCI_for_Red_Hat_OpenShift_on_Red_Hat_Virtualization.pdf" >
            <img src="/hci-solutions/images/pdf.png" width="20" height="20"/>
            NetApp HCI for Red Hat OpenShift on Red Hat Virtualization
          </a>
        </li>
        <span>
          
  


  


  

    
      
  


  


  


  


  


  


  


  


  


  




      

    

  


  


  


  


  




          
        </span>
      </span>
    

  




      

    

  


  

    
      
  


  


  


  




      

    

  


  

    
      
  


  




      

    

  


  

    
      
  


  


  


  


  


  


  

    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              
                This Document
              
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/hci-solutions/pdfs/sidebar/NetApp_HCI_Disaster_Recovery_with_Cleondris.pdf" >
            <img src="/hci-solutions/images/pdf.png" width="20" height="20"/>
            NetApp HCI Disaster Recovery with Cleondris
          </a>
        </li>
        <span>
          
  


  


  


  


  


  


  




          
        </span>
      </span>
    

  




      

    

  


  

    
      
  

    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              
                This Document
              
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/hci-solutions/pdfs/sidebar/AI_Inferencing_on_the_Edge_Data_Center_with_H___c_and_NVIDIA_T_.pdf" >
            <img src="/hci-solutions/images/pdf.png" width="20" height="20"/>
            AI Inferencing on the Edge Data Center with H615c and NVIDIA T4
          </a>
        </li>
        <span>
          
  


  


  


  

    
      
  


  


  


  


  


  


  


  


  


  




      

    

  


  


  


  




          
        </span>
      </span>
    

  




      

    

  


  

    
      
  


  




      

    

  


  


</ul>

<script>
  $("#toggleContainerPdf li.active").parents('li').toggle('display');
  $("#toggleContainerPdf li.active").parents('span.subfolders').toggle('display');
  $("#toggleButtonPdf").click(function () {
    $("#toggleContainerPdf").toggle('display');
  });
</script><ul id="mysidebar" class="nav"><li class=" "><a class="na-navbar-padding" href="sales-partner-kits.html">
        NetApp HCI Sales & Partner Kits
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Private Cloud</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/nva-1122-design.pdf">
        VMware Private Cloud (Design Guide)
      </a></li><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/nva-1122-deploy.pdf">
        VMware Private Cloud (Deployment Guide)
      </a></li><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/nva-1128-design.pdf">
        VMware Validated Design
      </a></li><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/nva-1133-design.pdf">
        Private Cloud with Red Hat (Design Guide)
      </a></li><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/nva-1133-deploy.pdf">
        Private Cloud with Red Hat (Deployment Guide)
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> End User Computing (EUC)</div>
      </a>
      <ul><li class="subfolders "><a href="hcvdivds_hybrid_cloud_vdi_with_virtual_desktop_service.html">
        <div class="na-navbar-padding"> Hybrid Cloud VDI with NetApp Virtual Desktop Service</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="hcvdivds_use_cases.html">
        Use Cases
      </a></li><li class=" "><a class="na-navbar-padding" href="hcvdivds_netapp_virtual_desktop_service_overview.html">
        NetApp Virtual Desktop Service Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="hcvdivds_netapp_hci_overview.html">
        NetApp HCI Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="hcvdivds_nvidia_licensing.html">
        NVIDIA Licensing
      </a></li><li class=" "><a class="na-navbar-padding" href="hcvdivds_deployment.html">
        Deployment
      </a></li><li class=" "><a class="na-navbar-padding" href="hcvdivds_hybrid_cloud_environment.html">
        Hybrid Cloud Environment
      </a></li><li class=" "><a class="na-navbar-padding" href="hcvdivds_single_server_load_test_with_login_vsi.html">
        Single Server Load Test with Login VSI
      </a></li><li class=" "><a class="na-navbar-padding" href="hcvdivds_management_portal.html">
        Management Portal
      </a></li><li class=" "><a class="na-navbar-padding" href="hcvdivds_user_management.html">
        User Management
      </a></li><li class=" "><a class="na-navbar-padding" href="hcvdivds_workspace_management.html">
        Workspace Management
      </a></li><li class=" "><a class="na-navbar-padding" href="hcvdivds_application_management.html">
        Application Management
      </a></li><li class=" "><a class="na-navbar-padding" href="hcvdivds_data_management.html">
        Data Management
      </a></li><li class=" "><a class="na-navbar-padding" href="hcvdivds_operation_management.html">
        Operation Management
      </a></li><li class=" "><a class="na-navbar-padding" href="hcvdivds_tools_and_logs.html">
        Tools and Logs
      </a></li><li class=" "><a class="na-navbar-padding" href="hcvdivds_conclusion.html">
        Conclusion
      </a></li><li class=" "><a class="na-navbar-padding" href="hcvdivds_where_to_find_additional_information.html">
        Where to Find Additional Information
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="nhci_euc_vmware.html">
        EUC with VMware Horizon
      </a></li><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/nva-1140-design.pdf">
        Citrix Virtual Apps and Desktops with VMware vSphere (Design Guide)
      </a></li><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/tr-4837.pdf">
        NetApp HCI for Dassault Systèmes CATIA
      </a></li><li class="subfolders "><a href="citrix_executive_summary.html">
        <div class="na-navbar-padding"> HCI for Citrix Virtual Apps</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="citrix_solution_overview.html">
        Solution Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="citrix_physical_infrastructure.html">
        Physical Infrastructure
      </a></li><li class=" "><a class="na-navbar-padding" href="citrix_citrix_hypervisor.html">
        Citrix Hypervisor
      </a></li><li class=" "><a class="na-navbar-padding" href="citrix_resource_layer.html">
        Resource Layer
      </a></li><li class=" "><a class="na-navbar-padding" href="citrix_control_layer.html">
        Control Layer
      </a></li><li class=" "><a class="na-navbar-padding" href="citrix_access_layer.html">
        Access Layer
      </a></li><li class=" "><a class="na-navbar-padding" href="citrix_user_layer.html">
        User Layer
      </a></li><li class=" "><a class="na-navbar-padding" href="citrix_netapp_value.html">
        NetApp Value
      </a></li><li class=" "><a class="na-navbar-padding" href="citrix_appendix__iscsi_device_configuration.html">
        Appendix  iSCSI Device Configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="citrix_where_to_find_additional_information.html">
        Where to Find Additional Information
      </a></li></ul></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Infrastructure</div>
      </a>
      <ul><li class="subfolders "><a href="redhat_virtualization_solution_overview__netapp_hci_with_rhv.html">
        <div class="na-navbar-padding"> NetApp HCI with Red Hat Virtualization</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="redhat_virtualization_architecture_overview__netapp_hci_with_rhv.html">
        Architecture Overview  NetApp HCI with RHV
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_virtualization_design_considerations__netapp_hci_with_rhv.html">
        Design Considerations  NetApp HCI with RHV
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Deployment Procedures  NetApp HCI with RHV</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="redhat_virtualization_deployment_summary__netapp_hci_with_rhv.html">
        Deployment Summary  NetApp HCI with RHV
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_virtualization_1._configure_management_switches__netapp_hci_with_rhv.html">
        1. Configure Management Switches  NetApp HCI with RHV
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_virtualization_2._configure_data_switches__netapp_hci_with_rhv.html">
        2. Configure Data Switches  NetApp HCI with RHV
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_virtualization_3._deploy_the_element_storage_system_on_the_hci_storage_nodes__netapp_hci_with_rhv.html">
        3. Deploy the Element Storage System on the HCI Storage Nodes  NetApp HCI with RHV
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_virtualization_4._deploy_the_rhv-h_hypervisor_on_the_hci_compute_nodes__netapp_hci_with_rhv.html">
        4. Deploy the RHV-H Hypervisor on the HCI Compute Nodes  NetApp HCI with RHV
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_virtualization_5._deploy_the_rhv_manager_as_a_self-hosted_engine.html">
        5. Deploy the RHV Manager as a Self-Hosted Engine
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_virtualization_6._configure_rhv-m_infrastructure.html">
        6. Configure RHV-M Infrastructure
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_virtualization_7._deploy_the_netapp_mnode.html">
        7. Deploy the NetApp mNode
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Best Practices for Production Deployments</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="redhat_virtualization_updating_rhv_manager_and_rhv-h_hosts.html">
        Updating RHV Manager and RHV-H Hosts
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_virtualization_enabling_fencing_for_rhv-h_hosts.html">
        Enabling Fencing for RHV-H Hosts
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_virtualization_optimizing_memory_for_red_hat_virtualization.html">
        Optimizing Memory for Red Hat Virtualization
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="redhat_virtualization_where_to_find_additional_information__netapp_hci_with_rhv.html">
        Where to Find Additional Information  NetApp HCI with RHV
      </a></li></ul></li><li class="subfolders "><a href="hcicaci_netapp_hci_with_cisco_aci.html">
        <div class="na-navbar-padding"> NetApp HCI with Cisco ACI</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="hcicaci_use_cases.html">
        Use Cases
      </a></li><li class=" "><a class="na-navbar-padding" href="hcicaci_architecture.html">
        Architecture
      </a></li><li class=" "><a class="na-navbar-padding" href="hcicaci_design_considerations.html">
        Design Considerations
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Deploying NetApp HCI with Cisco ACI</div>
      </a>
      <ul><li class="  active "><a class="na-navbar-padding" href="hcicaci_vmware_vsphere__netapp_hci_with_cisco_aci.html">
        VMware vSphere
      </a></li><li class=" "><a class="na-navbar-padding" href="hcicaci_RHV__netapp_hci_with_cisco_aci.html">
        Red Hat Virtualization
      </a></li><li class=" "><a class="na-navbar-padding" href="hcicaci_kvm_on_rhel__netapp_hci_with_cisco_aci.html">
        KVM on RHEL
      </a></li><li class=" "><a class="na-navbar-padding" href="hcicaci_ontap_on_aff__netapp_hci_and_cisco_aci.html">
        ONTAP on AFF
      </a></li><li class=" "><a class="na-navbar-padding" href="hcicaci_ontap_select_with_vmware_vsphere__netapp_hci_and_cisco_aci.html">
        ONTAP Select with VMware vSphere
      </a></li><li class=" "><a class="na-navbar-padding" href="hcicaci_storagegrid_with_vmware_vsphere__netapp_hci_and_cisco_aci.html">
        StorageGRID with VMware vSphere
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="hcicaci_validation_results.html">
        Validation Results
      </a></li><li class=" "><a class="na-navbar-padding" href="hcicaci_additional_information.html">
        Where to Find Additional Information
      </a></li></ul></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Containers and DevOps</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/wp-7304.pdf">
        Infrastructure as Code with Red Hat Ansible
      </a></li><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/nva-1124-design.pdf">
        Red Hat Openshift Container Platform (Design Guide)
      </a></li><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/nva-1124-deploy.pdf">
        Red Hat Openshift Container Platform (Deployment Guide)
      </a></li><li class="subfolders "><a href="anthos_concept_overview.html">
        <div class="na-navbar-padding"> NetApp HCI with Anthos</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="anthos_concept_solution_components.html">
        Solution Components
      </a></li><li class=" "><a class="na-navbar-padding" href="anthos_reference_design_considerations.html">
        Design Considerations
      </a></li><li class=" "><a class="na-navbar-padding" href="anthos_reference_hardware_software_requirements.html">
        Hardware and Software Requirements
      </a></li><li class="subfolders "><a href="anthos_reference_workflow_summary.html">
        <div class="na-navbar-padding"> Deployment Steps</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="anthos_task_configure_management_switches.html">
        1. Configure Management Switches
      </a></li><li class=" "><a class="na-navbar-padding" href="anthos_task_configure_data_switches.html">
        2. Configure Data Switches
      </a></li><li class=" "><a class="na-navbar-padding" href="anthos_task_deploy_netapp_hci.html">
        3. Deploy NetApp HCI with the NetApp Deployment Engine
      </a></li><li class=" "><a class="na-navbar-padding" href="anthos_task_configure_the_vcenter_server.html">
        4. Configure the vCenter Server
      </a></li><li class=" "><a class="na-navbar-padding" href="anthos_task_deploy_the_f5_big-ip.html">
        5. Deploy and Configure the F5 Big-IP Virtual Edition Appliance
      </a></li><li class=" "><a class="na-navbar-padding" href="anthos_task_complete_anthos_prerequisites.html">
        6. Complete Anthos Prerequisites
      </a></li><li class=" "><a class="na-navbar-padding" href="anthos_task_deploy_the_anthos_admin_workstation.html">
        7. Deploy the Anthos Admin Workstation
      </a></li><li class=" "><a class="na-navbar-padding" href="anthos_task_deploy_the_admin.html">
        8. Deploy the Admin and the First User Cluster
      </a></li><li class=" "><a class="na-navbar-padding" href="anthos_task_deploy_additional_user_clusters.html">
        9. Deploy Additional User Clusters
      </a></li><li class=" "><a class="na-navbar-padding" href="anthos_task_enable_access_to_the_cluster.html">
        10. Enable Access to the Cluster with the GKE Console
      </a></li><li class=" "><a class="na-navbar-padding" href="anthos_task_install_and_configure_trident.html">
        11. Install and Configure NetApp Trident Storage Provisioner
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="anthos_reference_video_demos.html">
        Video Demos
      </a></li><li class=" "><a class="na-navbar-padding" href="anthos_reference_addition_information.html">
        Additional Information
      </a></li></ul></li><li class="subfolders "><a href="redhat_openshift_solution_overview__netapp_hci_for_red_hat_openshift_on_rhv.html">
        <div class="na-navbar-padding"> NetApp HCI for Red Hat OpenShift on Red Hat Virtualization</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="redhat_openshift_architectural_overview__netapp_hci_for_red_hat_openshift_on_rhv.html">
        Architectural Overview  NetApp HCI for Red Hat OpenShift on RHV
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_openshift_design_considerations__netapp_hci_for_red_hat_openshift_on_rhv.html">
        Design Considerations  NetApp HCI for Red Hat OpenShift on RHV
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Deploying NetApp HCI for Red Hat OpenShift on RHV</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="redhat_openshift_deployment_summary.html">
        Deployment Summary
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_openshift_1._create_storage_network_vlan__netapp_hci_for_red_hat_openshift_on_rhv.html">
        1. Create Storage Network VLAN  NetApp HCI for Red Hat OpenShift on RHV
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_openshift_2._download_openshift_installation_files__netapp_hci_for_red_hat_openshift_on_rhv.html">
        2. Download OpenShift Installation Files  NetApp HCI for Red Hat OpenShift on RHV
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_openshift_3._download_ca_certificate_from_rhv__netapp_hci_for_red_hat_openshift_on_rhv.html">
        3. Download CA Certificate from RHV  NetApp HCI for Red Hat OpenShift on RHV
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_openshift_4._register_api_apps_in_dns__netapp_hci_for_red_hat_openshift_on_rhv.html">
        4. Register API/Apps in DNS  NetApp HCI for Red Hat OpenShift on RHV
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_openshift_5._generate_and_add_ssh_private_key__netapp_hci_for_red_hat_openshift_on_rhv.html">
        5. Generate and Add SSH Private Key  NetApp HCI for Red Hat OpenShift on RHV
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_openshift_6._install_openshift_container_platform__netapp_hci_for_red_hat_openshift_on_rhv.html">
        6. Install OpenShift Container Platform  NetApp HCI for Red Hat OpenShift on RHV
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_openshift_7._access_console_web_console__netapp_hci_for_red_hat_openshift_on_rhv.html">
        7. Access Console/Web Console  NetApp HCI for Red Hat OpenShift on RHV
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_openshift_8._configure_worker_nodes_to_run_storage_services__netapp_hci_for_red_hat_openshift_on_rhv.html">
        8. Configure Worker Nodes to Run Storage Services  NetApp HCI for Red Hat OpenShift on RHV
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_openshift_9._download_and_install_netapp_trident__netapp_hci_for_red_hat_openshift_on_rhv.html">
        9. Download and Install NetApp Trident  NetApp HCI for Red Hat OpenShift on RHV
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="redhat_openshift_validation_results__netapp_hci_for_red_hat_openshift_on_rhv.html">
        Validation Results  NetApp HCI for Red Hat OpenShift on RHV
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_openshift_best_practices_for_production_deployments.html">
        Best Practices for Production Deployments
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_openshift_videos_and_demos__netapp_hci_for_red_hat_openshift_on_red_hat_virtualization.html">
        Videos and Demos  NetApp HCI for Red Hat OpenShift on Red Hat Virtualization
      </a></li><li class=" "><a class="na-navbar-padding" href="redhat_openshift_additional_information__netapp_hci_for_red_hat_openshift_on_red_hat_virtualization.html">
        Additional Information  NetApp HCI for Red Hat OpenShift on Red Hat Virtualization
      </a></li></ul></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Database</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/tr-4633.pdf">
        MongoDB
      </a></li><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/tr-4768.pdf">
        Oracle
      </a></li><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/tr-4721.pdf">
        Sybase ASE
      </a></li><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/tr-4638.pdf">
        SQL Server
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Data Fabric</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/tr-4748.pdf">
        Build your Data Fabric with NetApp HCI, ONTAP and Converged Infrastructure
      </a></li><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/tr-4734.pdf">
        StorageGrid Deployment on NetApp HCI
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Data Protection</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/tr-4641.pdf">
        NetApp HCI Data Protection Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/nva-1137.pdf">
        Multicloud Data Protection with Cloud Volumes ONTAP
      </a></li><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/tr-4795.pdf">
        Disaster Recovery and Replication with VMware SRM
      </a></li><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/tr-4778.pdf">
        Splunk Enterprise with Arrow Appliance
      </a></li><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/tr-4634.pdf">
        Veeam Backup and Replication 9.5 v4
      </a></li><li class=" "><a class="na-navbar-padding" href="http://www.netapp.com/us/media/tr-4831.pdf">
        NetApp Scale-Out Data Protection with Commvault
      </a></li><li class="subfolders "><a href="cleondris_disaster_recovery_overview.html">
        <div class="na-navbar-padding"> NetApp HCI Disaster Recovery with Cleondris</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="cleondris_installing_cleondris.html">
        Installing Cleondris
      </a></li><li class=" "><a class="na-navbar-padding" href="cleondris_configuring_cleondris.html">
        Configuring Cleondris
      </a></li><li class=" "><a class="na-navbar-padding" href="cleondris_disaster_recovery_pairing.html">
        Disaster Recovery Pairing
      </a></li><li class=" "><a class="na-navbar-padding" href="cleondris_recovery_organization.html">
        Recovery Organization
      </a></li><li class=" "><a class="na-navbar-padding" href="cleondris_failover.html">
        Failover
      </a></li><li class=" "><a class="na-navbar-padding" href="cleondris_best_practices.html">
        Best Practices
      </a></li><li class=" "><a class="na-navbar-padding" href="cleondris_additional_information.html">
        Additional Information
      </a></li></ul></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Artificial Intelligence (AI)</div>
      </a>
      <ul><li class="subfolders "><a href="hciaiedge_nva-1144_netapp_hci_ai_inferencing_at_the_edge_data_center_with_h615c_and_t4.html">
        <div class="na-navbar-padding"> AI Inferencing on the Edge Data Center with H615c and NVIDIA T4</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="hciaiedge_use_cases.html">
        Use Cases
      </a></li><li class=" "><a class="na-navbar-padding" href="hciaiedge_architecture.html">
        Architecture
      </a></li><li class=" "><a class="na-navbar-padding" href="hciaiedge_design_considerations.html">
        Design Considerations
      </a></li><li class="subfolders "><a href="hciaiedge_deploying_netapp_hci__ai_inferencing_at_the_edge_overview.html">
        <div class="na-navbar-padding"> Deploying NetApp HCI – AI Inferencing at the Edge</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="hciaiedge_configure_network_switches_automated_deployment.html">
        Configure Network Switches (Automated Deployment)
      </a></li><li class=" "><a class="na-navbar-padding" href="hciaiedge_virtual_infrastructure_with__automated_deployment.html">
        Virtual Infrastructure with Automated Deployment
      </a></li><li class=" "><a class="na-navbar-padding" href="hciaiedge_netapp_h615cmanual_deployment.html">
        Configure NetApp H615c (Manual Deployment)
      </a></li><li class=" "><a class="na-navbar-padding" href="hciaiedge_setp_the_deployment_jump__and_the_kubernetes_master_node_vms_manual_deployment.html">
        Set Up the Deployment Jump and the Kubernetes Master Node VMs Manual Deployment
      </a></li><li class=" "><a class="na-navbar-padding" href="hciaiedge_deploy_a_kubernetes_cluster_with_nvidia_deepops_automated_deployment.html">
        Deploy a Kubernetes Cluster with NVIDIA DeepOps Automated Deployment
      </a></li><li class=" "><a class="na-navbar-padding" href="hciaiedge_deploy_and_onfigure_ontap_select_in_the_vmware_virtual_infrastructure_automated_deployment.html">
        Deploy and Configure ONTAP Select in the VMware Virtual Infrastructure Automated Deployment
      </a></li><li class=" "><a class="na-navbar-padding" href="hciaiedge_deploy_netapp_trident_automated_deployment.html">
        Deploy NetApp Trident Automated Deployment
      </a></li><li class=" "><a class="na-navbar-padding" href="hciaiedge_deploy_nvidia_triton_inference_server_automated_deployment.html">
        Deploy NVIDIA Triton Inference Server Automated Deployment
      </a></li><li class=" "><a class="na-navbar-padding" href="hciaiedge_deploy_the_client_for_triton_inference_server_automated_deployment.html">
        Deploy the Client for Triton Inference Server Automated Deployment
      </a></li><li class=" "><a class="na-navbar-padding" href="hciaiedge_collect_inference_metrics_from_triton_inference_server.html">
        Collect Inference Metrics from Triton Inference Server
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="hciaiedge_validation_results.html">
        Validation Results
      </a></li><li class=" "><a class="na-navbar-padding" href="hciaiedge_.html">
        
      </a></li><li class=" "><a class="na-navbar-padding" href="hciaiedge_additional_information.html">
        Additional Information
      </a></li></ul></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Security</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="http://www.netapp.com/us/media/wp-7327.pdf">
        HCI Verified Architecture PCI DSS 3.2.1
      </a></li><li class=" "><a class="na-navbar-padding" href="https://www.netapp.com/us/media/nva-1143.pdf">
        NIST Security Controls for FISMA with HyTrust for Multitenant Infrastructure
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="https://fieldportal.netapp.com/collections/895975">
        Solution Collection (login required)
      </a></li></ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

  </div>
  

  <div class="ie-content-pane n-doc__component-detail-content n-doc__component-detail-content--show-code">
    <!-- Begin of page container -->
    <article class="page-content">
      



<div class="n-doc__component-detail-heading-wrap">
  <h1 class="n-doc__component-detail-heading">VMware vSphere: NetApp HCI with Cisco ACI</h1>
</div>

<p class="page-details">
  
    
    <time datetime="2020-09-15 18:32:51 +0000">09/15/2020</time>
    
  

<span>Contributors
  
  <a target="_blank" href="https://github.com/kevin-hoke">
    <img  class="avatar avatar-small"
          alt="kevin-hoke"
          width="20" height="20"
          src="https://avatars2.githubusercontent.com/u/55808219?v=4"
          style="border-radius: 50%;"/>
  </a>
  
  <a target="_blank" href="https://github.com/netapp-dorianh">
    <img  class="avatar avatar-small"
          alt="netapp-dorianh"
          width="20" height="20"
          src="https://avatars0.githubusercontent.com/u/59885112?v=4"
          style="border-radius: 50%;"/>
  </a>
  
</span>


  <span>
    <a target="_blank" href="/hci-solutions/pdfs/pages/hcicaci_vmware_vsphere__netapp_hci_with_cisco_aci.pdf" role="button">
      <img src="/hci-solutions/images/pdf.png" width="20" height="20"/> Download PDF of this page
    </a>
  </span>


</p>

<div id="preamble">
<div class="sectionbody">
<div class="paragraph lead">
<p>VMware vSphere is an industry-leading virtualization platform that provides a way to build a resilient and reliable virtual infrastructure. vSphere contains virtualization, management, and interface layers. The two core components of VMware vSphere are ESXi server and the vCenter Server. VMware ESXi is hypervisor software installed on a physical machine that facilitates hosting of VMs and virtual appliances. vCenter Server is the service through which you manage multiple ESXi hosts connected in a network and pool host resources. For more information on VMware vSphere, see the documentation here.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="workflow">Workflow</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following workflow was used to up the virtual environment. Each of these steps might involve several individual tasks.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install and configure Nexus 9000 switches in ACI mode and APIC software on the UCS C-series server. See the Install and Upgrade <a href="https://www.cisco.com/c/en/us/support/cloud-systems-management/application-policy-infrastructure-controller-apic/tsd-products-support-series-home.html" target="_blank" rel="noopener">documentation</a> for detailed steps.</p>
</li>
<li>
<p>Configure and setup ACI fabric by referring to the <a href="https://www.cisco.com/c/en/us/td/docs/switches/datacenter/aci/apic/sw/3-x/getting_started/b_APIC_Getting_Started_Guide_Rel_3_x.html" target="_blank" rel="noopener">documentation</a>.</p>
</li>
<li>
<p>Configure the tenants, application profiles, bridge domains, and EPGs required for NetApp HCI nodes. NetApp recommends using one BD to one EPG framework, except for iSCSI. See the documentation <a href="https://www.cisco.com/c/en/us/td/docs/switches/datacenter/aci/apic/sw/2-x/L2_config/b_Cisco_APIC_Layer_2_Configuration_Guide.html" target="_blank" rel="noopener">here</a> for more details. The minimum set of EPGs required are in-band management, iSCSI, iSCSI-A, iSCSI-B, VM motion, VM-data network, and native.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
iSCSI multipathing requires two iSCSI EPGs: iSCSI-A and iSCSI-B, each with one active uplink.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
NetApp mNode requires an iSCSI EPG with both uplinks active.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create the VLAN pool, physical domain, and AEP based on the requirements. Create the switch and interface profiles for individual ports. Then attach the physical domain and configure the static paths to the EPGs. See the <a href="https://www.cisco.com/c/en/us/td/docs/switches/datacenter/aci/apic/sw/2-x/L2_config/b_Cisco_APIC_Layer_2_Configuration_Guide.html" target="_blank" rel="noopener">configuration guide</a> for more details.</p>
<div class="paragraph">
<p><span class="image"><img src="./media/hcicaci_image6.png" alt="Error: Missing Graphic Image"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./media/hcicaci_image7.png" alt="Error: Missing Graphic Image"></span></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Use an access port policy group for interfaces connecting to NetApp HCI compute nodes, and use vPC policy group for interfaces to NetApp HCI storage nodes.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create and assign contracts for tightly-controlled access between workloads. For more information on configuring the contracts, see the guide <a href="https://www.cisco.com/c/en/us/td/docs/switches/datacenter/aci/apic/sw/1-x/Operating_ACI/guide/b_Cisco_Operating_ACI/b_Cisco_Operating_ACI_chapter_01000.html" target="_blank" rel="noopener">here</a>.</p>
</li>
<li>
<p>Install and configure NetApp HCI using NDE. NDE configures all the required parameters, including VDS port groups for networking, and also installs the mNode VM. See the <a href="https://docs.netapp.com/hci/index.jsp" target="_blank" rel="noopener">deployment guide</a> for more information.</p>
</li>
<li>
<p>Though VMM integration of Cisco ACI with VMware VDS is optional, using the VMM integration feature is a best practice. When not using VMM integration, an NDE-installed VDS can be used for networking with physical domain attachment on Cisco ACI.</p>
</li>
<li>
<p>If you are using VMM integration, NDE-installed VDS cannot be fully managed by ACI and can be added as read-only VMM domain. To avoid that scenario and make efficient use of Cisco ACI’s VMM networking feature, create a new VMware VMM domain in ACI with an explicit dynamic VLAN pool. The VMM domain created can integrate with any supported virtual switch.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><strong>Integrate with VDS.</strong> If you wish to integrate ACI with VDS, select the virtual switch type to be VMware Distributed Switch. Consider the configuration best practices noted in the following table. See the <a href="https://www.cisco.com/c/en/us/td/docs/switches/datacenter/aci/apic/sw/3-x/virtualization/Cisco-ACI-Virtualization-Guide-3-2-x/Cisco-ACI-Virtualization-Guide-3-2-x_chapter_011.html" target="_blank" rel="noopener">configuration guide</a> for more details.</p>
<div class="paragraph">
<p><span class="image"><img src="./media/hcicaci_image8.png" alt="Error: Missing Graphic Image"></span></p>
</div>
</li>
<li>
<p><strong>Integrate with Cisco AVE.</strong> If you are integrating Cisco AVE with Cisco ACI, select the virtual switch type to be Cisco AVE. Cisco AVE requires a unique VLAN pool of type Internal for communicating between internal and external port groups. Follow the configuration best practices noted in this table. See the <a href="https://www.cisco.com/c/en/us/td/docs/switches/datacenter/aci/aci_virtual_edge/installation_upgrade/2-x/Cisco-ACI-Virtual-Edge-Installation-Guide-201.html" target="_blank" rel="noopener">installation guide</a> to install and configure Cisco AVE.</p>
<div class="paragraph">
<p><span class="image"><img src="./media/hcicaci_image9.png" alt="Error: Missing Graphic Image"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./media/hcicaci_image10.png" alt="Error: Missing Graphic Image"></span></p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Attach the VMM domain to the EPGs using Pre-Provision Resolution Immediacy. Then migrate all the VMNICs, VMkernel ports, and VNICs from the NDE-created VDS to ACI-created VDS or AVE and so on. Configure the uplink failover and teaming policy for iSCSI-A and iSCSI-B to have one active uplink each. VMs can now attach their VMNICs to ACI-created port groups to access network resources. The port groups on VDS that are managed by Cisco ACI are in the format of <code>&lt;tenant-name&gt;|&lt;application-profile-name&gt;|&lt;epg-name&gt;</code>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pre-Provision Resolution Immediacy is required to ensure the port policies are downloaded to the leaf switch even before the VMM controller is attached to the virtual switch.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="image"><img src="./media/hcicaci_image11.png" alt="Error: Missing Graphic Image"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./media/hcicaci_image12.png" alt="Error: Missing Graphic Image"></span></p>
</div>
</li>
<li>
<p>If you intend to use micro-segmentation, then create micro-segment (uSeg) EPGs attaching to the right BD. Create attributes in VMware vSphere and attach them to the required VMs. Ensure the VMM domain has Enable Tag Collection enabled. Configure the uSeg EPGs with the corresponding attribute and attach the VMM domain to it. This provides more granular control of communication on the endpoint VMs.</p>
<div class="paragraph">
<p><span class="image"><img src="./media/hcicaci_image13.png" alt="Error: Missing Graphic Image"></span></p>
</div>
<div class="paragraph">
<p>The networking functionality for VMware vSphere on NetApp HCI in this solution is provided either using VMware VDS or Cisco AVE.</p>
</div>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="vmware-vds">VMware VDS</h3>
<div class="paragraph">
<p>VMware vSphere Distributed Switch (VDS) is a virtual switch that connects to multiple ESXi hosts in the cluster or set of clusters allowing virtual machines to maintain consistent network configuration as they migrate across multiple hosts. VDS also provides for centralized management of network configurations in a vSphere environment. For more details, see the <a href="https://www.vmware.com/in/products/vsphere/distributed-switch.html" target="_blank" rel="noopener">VDS documentation</a>.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./media/hcicaci_image14.png" alt="Error: Missing Graphic Image"></span></p>
</div>
<div class="paragraph">
<p>The following table outlines the necessary parameters and best practices for configuring and integrating Cisco ACI with VMware VDS.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Configuration Considerations</th>
<th class="tableblock halign-left valign-top">Best Practices</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endpoint groups</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Separate EPG for native VLANs</p>
</li>
<li>
<p>Static binding of interfaces to HCI storage and compute nodes in native VLAN EPG uses 802.1P mode. This is required for node discovery to run NDE.</p>
</li>
<li>
<p>Separate EPGs for iSCSI, iSCSI-A, and iSCSI-B with a common BD</p>
</li>
<li>
<p>iSCSI-A and iSCSI-B are for iSCSI multipathing and are used for VMkernel ports on ESXi hosts</p>
</li>
<li>
<p>Physical domain to be attached to iSCSI EPG before running NDE</p>
</li>
<li>
<p>VMM domain to be attached to iSCSI, iSCSI-A, and iSCSI-B EPGs</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Contracts between EPGs to be well defined. Allow only required ports for communication.</p>
</li>
<li>
<p>Use unique native VLAN for NDE node discovery</p>
</li>
<li>
<p>For EPGs corresponding to port-groups being attached to VMkernel ports, VMM domain to be attached with Pre-Provision for Resolution Immediacy</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interface policy</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>A common leaf access port policy group for all ESXi hosts</p>
</li>
<li>
<p>One vPC policy group per NetApp HCI storage node</p>
</li>
<li>
<p>LLDP enabled, CDP disabled</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Separate VLAN pool for VMM domain with dynamic allocation turned on</p>
</li>
<li>
<p>Recommended to use vPC with LACP Active port-channel policy for interfaces towards NetApp HCI Storage Nodes</p>
</li>
<li>
<p>Recommended to use individual interfaces for Compute Nodes, No LACP.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VMM Integration</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Local switching preference</p>
</li>
<li>
<p>Access mode is Read Write.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>MAC-Pinning-Physical-NIC-Load for vSwitch policy</p>
</li>
<li>
<p>LLDP for discovery policy</p>
</li>
<li>
<p>Enable Tag collection if micro-segmentation is used</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VDS</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Both uplinks active for iSCSI port-group</p>
</li>
<li>
<p>One uplink each for iSCSI-A and iSCSI-B</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Load balancing method for all port-groups to be ‘Route based on physical NIC load’</p>
</li>
<li>
<p>iSCSI VMkernel port migration to be done one at a time from NDE deployed VDS to ACI integrated VDS</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For traffic load-balancing, port channels with vPCs can be used on Cisco ACI along with LAGs on VDS with LACP in active mode. However, using LACP can affect storage performance when compared to iSCSI multipathing.</p>
</div>
</div>
<div class="sect2">
<h3 id="cisco-ave">Cisco AVE</h3>
<div class="paragraph">
<p>Cisco ACI Virtual Edge (AVE) is a virtual switch offering by Cisco that extends the Cisco ACI policy model to virtual infrastructure. It is a hypervisor- independent distributed network service that sits on top of the native virtual switch of the hypervisor. It leverages the underlying virtual switch using a VM-based solution to provide network visibility into the virtual environments. For more details on Cisco AVE, see the <a href="https://www.cisco.com/c/en/us/products/switches/application-centric-infrastructure-virtual-edge/index.html" target="_blank" rel="noopener">documentation</a>. The following figure depicts the internal networking of Cisco AVE on an ESXi host (as tested).</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./media/hcicaci_image15.png" alt="Error: Missing Graphic Image"></span></p>
</div>
<div class="paragraph">
<p>The following table lists the necessary parameters and best practices for configuring and integrating Cisco ACI with Cisco AVE on VMware ESXi. Cisco AVE is currently only supported with VMware vSphere.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Configuration Considerations</th>
<th class="tableblock halign-left valign-top">Best Practices</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endpoint Groups</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Separate EPG for native VLANs<br>
Static binding of interfaces towards HCI storage and compute nodes in native VLAN EPG uses 802.1P mode. This is required for node discovery to run NDE.<br>
Separate EPGs for iSCSI, iSCSI-A and iSCSI-B with a common BD<br>
iSCSI-A and iSCSI-B are for iSCSI multipathing and are used for VMkernel ports on ESXi hosts<br>
Physical domain to be attached to iSCSI EPG before running NDE<br>
VMM domain is attached to iSCSI, iSCSI-A, and iSCSI-B EPGs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Separate VLAN pool for VMM domain with dynamic allocation turned on<br>
Contracts between EPGs to be well defined. Allow only required ports for communication.<br>
Use unique native VLAN for NDE node discovery<br>
Use native switching mode in VMM domain for EPGs that correspond to port groups being attached to host’s VMkernel adapters<br>
Use AVE switching mode in VMM domain for EPGs corresponding to port groups carrying user VM traffic<br>
For EPGs corresponding to port-groups being attached to VMkernel ports, VMM domain is attached with Pre-Provision for Resolution Immediacy</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interface Policy</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>One vPC policy group per ESXi host</p>
</li>
<li>
<p>One vPC policy group per NetApp HCI storage node</p>
</li>
<li>
<p>LLDP enabled, CDP disabled</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>NetApp recommends using vPCs to ESXi hosts</p>
</li>
<li>
<p>Use static mode on port-channel policy for vPCs to ESXi</p>
</li>
<li>
<p>Use Layer-4 SRC port load balancing hashing method for port-channel policy</p>
</li>
<li>
<p>NetApp recommends using vPC with LACP active port-channel policy for interfaces to NetApp HCI storage nodes</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VMM Integration</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Create a new VLAN range [or Encap Block] with role Internal and Dynamic allocation’ attached to the VLAN pool intended for VMM domain</p>
</li>
<li>
<p>Create a pool of multicast addresses (one address per EPG)</p>
</li>
<li>
<p>Reserve another multicast address different from the pool of multicast addresses intended for AVE fabric-wide multicast address</p>
</li>
<li>
<p>Local switching preference</p>
</li>
<li>
<p>Access mode to be Read Write mode</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Static mode on for vSwitch policy</p>
</li>
<li>
<p>Ensure that vSwitch port-channel policy and interface policy group’s port-channel policy are using the same mode</p>
</li>
<li>
<p>LLDP for discovery policy</p>
</li>
<li>
<p>Enable Tag collection if using micro-segmentation</p>
</li>
<li>
<p>Recommended option for Default Encap mode is VXLAN</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VDS</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>- Both uplinks active for iSCSI port-group</p>
</li>
<li>
<p>- One uplink each for iSCSI-A and iSCSI-B</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>iSCSI VMkernel port migration is done one at a time from NDE deployed VDS to ACI integrated VDS</p>
</li>
<li>
<p>Load balancing method for all port-groups to be Route based on IP hash</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For traffic load balancing, port channel with vPCs can be used on Cisco ACI along with LAGs on ESXi hosts with LACP in active mode. However, using LACP can affect storage performance when compared to iSCSI multipathing.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="red-hat-virtualization-netapp-hci-with-cisco-aci">Red Hat Virtualization: NetApp HCI with Cisco ACI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat Virtualization (RHV) is an enterprise virtual data center platform that runs on Red Hat Enterprise Linux using the KVM hypervisor.  The key components of RHV include Red Hat Virtualization Hosts (RHV- H) and the Red Hat Virtualization Manager (RHV- M). RHV-M provides centralized, enterprise-grade management for the physical and logical resources within the virtualized RHV environment. RHV-H is a minimal, light-weight operating system based on Red Hat Enterprise Linux that is optimized for the ease of setting up physical servers as RHV hypervisors. For more information on RHV, see the documentation <a href="https://access.redhat.com/documentation/en-us/red_hat_virtualization/4.3/" target="_blank" rel="noopener">here</a>. The following figure provides an overview of RHV.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./media/hcicaci_image16.png" alt="Error: Missing Graphic Image"></span></p>
</div>
<div class="paragraph">
<p>Starting with Cisco APIC release 3.1, Cisco ACI supports VMM integration with Red Hat Virtualization environments. The RHV VMM domain in Cisco APIC is connected to RHV-M and directly associated with a data center object. All the RHV-H clusters under this data center are considered part of the VMM domain. Cisco ACI automatically creates logical networks in RHV- M when the EPGs are attached to the RHV VMM domain in ACI. RHV hosts that are part of a Red Hat VMM domain can use Linux bridge or Open vSwitch as its virtual switch. This integration simplifies and automates networking configuration on RHV-M, saving a lot of manual work for system and network administrators.</p>
</div>
<div class="sect2">
<h3 id="workflow-2">Workflow</h3>
<div class="paragraph">
<p>The following workflow is used to set up the virtual environment. Each of these steps might involve several individual tasks.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install and configure Nexus 9000 switches in ACI mode and APIC software on the UCS C-series server. Refer to the Install and Upgrade <a href="https://www.cisco.com/c/en/us/support/cloud-systems-management/application-policy-infrastructure-controller-apic/tsd-products-support-series-home.html" target="_blank" rel="noopener">documentation</a> for detailed steps.</p>
</li>
<li>
<p>Configure and setup the ACI fabric by referring to the <a href="https://www.cisco.com/c/en/us/td/docs/switches/datacenter/aci/apic/sw/3-x/getting_started/b_APIC_Getting_Started_Guide_Rel_3_x.html" target="_blank" rel="noopener">documentation</a>.</p>
</li>
<li>
<p>Configure tenants, application profiles, bridge domains, and EPGs required for NetApp HCI nodes. NetApp recommends using one BD to one EPG framework, except for iSCSI. See the documentation <a href="https://www.cisco.com/c/en/us/td/docs/switches/datacenter/aci/apic/sw/2-x/L2_config/b_Cisco_APIC_Layer_2_Configuration_Guide.html" target="_blank" rel="noopener">here</a> for more details. The minimum set of EPGs required are in-band management, iSCSI, VM motion, VM-data network, and native.</p>
</li>
<li>
<p>Create the VLAN pool, physical domain, and AEP based on the requirements. Create the switch and interface profiles and policies for vPCs and individual ports. Then attach the physical domain and configure the static paths to the EPGs. see the <a href="https://www.cisco.com/c/en/us/td/docs/switches/datacenter/aci/apic/sw/2-x/L2_config/b_Cisco_APIC_Layer_2_Configuration_Guide.html" target="_blank" rel="noopener">configuration guide</a> for more details. This table lists best practices for integrating ACI with Linux bridge on RHV.</p>
<div class="paragraph">
<p><span class="image"><img src="./media/hcicaci_image17.png" alt="Error: Missing Graphic Image"></span></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Use a vPC policy group for interfaces connecting to NetApp HCI storage and compute nodes.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create and assign contracts for tightly controlled access between workloads. For more information on configuring the contracts, see the guide <a href="https://www.cisco.com/c/en/us/td/docs/switches/datacenter/aci/apic/sw/1-x/Operating_ACI/guide/b_Cisco_Operating_ACI/b_Cisco_Operating_ACI_chapter_01000.html" target="_blank" rel="noopener">here</a>.</p>
</li>
<li>
<p>Install and configure the NetApp HCI Element cluster. Do not use NDE for this install; rather, install a standalone Element cluster on the HCI storage nodes. Then configure the required volumes for installation of RHV. Install RHV on NetApp HCI. Refer to <a href="https://docs.netapp.com/us-en/hci-solutions/redhat_virtualization_solution_overview__netapp_hci_with_rhv.html" target="_blank" rel="noopener">RHV on NetApp HCI NVA</a> for more details.</p>
</li>
<li>
<p>RHV installation creates a default management network called ovirtmgmt. Though VMM integration of Cisco ACI with RHV is optional, leveraging VMM integration is preferred. Do not create other logical networks manually. To use Cisco ACI VMM integration, create a Red Hat VMM domain and attach the VMM domain to all the required EPGs, using Pre- Provision Resolution Immediacy. This process  automatically creates corresponding logical networks and vNIC profiles. The vNIC profiles can be directly used to attach to hosts and VMs for their communication. The networks that are managed by Cisco ACI are in the format <code>&lt;tenant-name&gt;|&lt;application-profile-name&gt;|&lt;epg-name&gt;</code> tagged with a label of format <code>aci_&lt;rhv-vmm-domain-name&gt;</code>. See <a href="https://www.cisco.com/c/en/us/solutions/collateral/data-center-virtualization/application-centric-infrastructure/white-paper-c11-740535.html" target="_blank" rel="noopener">Cisco’s whitepaper</a> for creating and configuring a VMM domain for RHV. Also, see this table for best practices when integrating RHV on NetApp HCI with Cisco ACI.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Except for ovirtmgmt, all other logical networks can be managed by Cisco ACI.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="image"><img src="./media/hcicaci_image18.jpeg" alt="Error: Missing Graphic Image"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./media/hcicaci_image19.jpg" alt="Error: Missing Graphic Image"></span></p>
</div>
<div class="paragraph">
<p>The networking functionality for RHVH hosts in this solution is provided by Linux bridge.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="linux-bridge">Linux Bridge</h3>
<div class="paragraph">
<p>Linux Bridge is a default virtual switch on all Linux distributions that is usually used with KVM/QEMU-based hypervisors. It is designated to forward traffic between networks based on MAC addresses and thus is regarded as a layer-2 virtual switch. For more information, see the documentation <a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/networking_guide/ch-configure_network_bridging" target="_blank" rel="noopener">here</a>. The following figure depicts the internal networking of Linux Bridge on RHV-H (as tested).</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./media/hcicaci_image20.png" alt="Error: Missing Graphic Image"></span></p>
</div>
<div class="paragraph">
<p>The following table outlines the necessary parameters and best practices for configuring and integrating Cisco ACI with Linux Bridge on RHV hosts.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Configuration considerations</th>
<th class="tableblock halign-left valign-top">Best Practices</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endpoint groups</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Separate EPG for native VLAN</p>
</li>
<li>
<p>Static binding of interfaces towards HCI storage and compute nodes in native VLAN EPG to be on 802.1P mode</p>
</li>
<li>
<p>Static binding of vPCs required on In-band management EPG and iSCSI EPG before RHV installation</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Separate VLAN pool for VMM domain with dynamic allocation turned on</p>
</li>
<li>
<p>Contracts between EPGs to be well defined. Allow only required ports for communication.</p>
</li>
<li>
<p>Use unique native VLAN for discovery during Element cluster formation</p>
</li>
<li>
<p>For EPGs corresponding to port-groups being attached to VMkernel ports, VMM domain to be attached with ‘Pre-Provision’ for Resolution Immediacy</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interface policy</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>One vPC policy group per RHV-H host</p>
</li>
<li>
<p>One vPC policy group per NetApp HCI storage node</p>
</li>
<li>
<p>LLDP enabled, CDP disabled</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Recommended to use vPC towards RHV-H hosts</p>
</li>
<li>
<p>Use ‘LACP Active’ for the port-channel policy</p>
</li>
<li>
<p>Use only ‘Graceful Convergence’ and ‘Symmetric Hashing’ control bits for port-channel policy<br>
Use ‘Layer4 Src-port’ load balancing hashing method for port-channel policy<br>
Recommended to use vPC with LACP Active port-channel policy for interfaces towards NetApp HCI storage nodes</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VMM Integration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not migrate host management logical interfaces from ovirtmgmt to any other logical network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">iSCSI host logical interface to be migrated to iSCSI logical network managed by ACI VMM integration</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Except for the ovirtmgmt logical network, it is possible to create all other infrastructure logical networks on Cisco APIC and map them to the VMM domain. ‘ovirtmgmt’ logical network uses the static path binding on the In-band management EPG attached with the physical domain.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a href="hcicaci_kvm_on_rhel__netapp_hci_with_cisco_aci.html">Next: KVM on RHEL: NetApp HCI with Cisco ACI</a></p>
</div>
</div>
</div>
</div>

    </article>
    <!-- Page Container -->
  </div>

  
  <!-- Start Page Toolbar -->
  <div class="page-nav-toolbar">
    <div class="page-nav-contribute"  >
      <div class="page-nav-contribute-title">CONTRIBUTE</div>
      <a target="_blank" href="https://github.com/NetAppDocs/hci-solutions/blob/master/hcicaci_vmware_vsphere__netapp_hci_with_cisco_aci.adoc" class="btn btn-default githubEditButton" role="button"><img src="/hci-solutions/images/github.png" class="github-icon" /> Edit on GitHub</a>
      <a target="_blank" href="https://github.com/NetAppDocs/hci-solutions/issues/new?body=Page%3A%20[VMware vSphere: NetApp HCI with Cisco ACI](https://docs.netapp.com/us-en/hci-solutions/hcicaci_vmware_vsphere__netapp_hci_with_cisco_aci.html)" class="btn btn-default githubEditButton" role="button"><img src="/hci-solutions/images/github.png" class="github-icon" /> Request doc changes</a>
      <a target="_blank" href="https://docs.netapp.com/us-en/contribute/" class="page-nav-contribute-link"  >Contributor's Guide</a>
    </div>
    <div class="page-nav-container">
      <nav class="page-nav-fixed">
        <div class="page-nav-title">ON THIS PAGE</div>
        <div class="page-nav-links">
          <ul class="page-nav-inner" id="page-menu"></ul>
        </div>
      </nav>
    </div>
  </div>
  
  <div style="clear: both"></div><!-- Main needs to have height -->
</div>

        </main>

        <footer class="n-footer">
  <div class="n-footer__bottom">
    <div class="n-container">
      <div class="n-footer__bottom-left">

        <div class="n-footer__copyright">
          <ul class="n-footer__copyright-list">
            <li class="n-footer__copyright-link">
            <a href="https://www.netapp.com/us/legal/copyright.aspx">© 2020 NetApp</a>
            </li>
            <li class="n-footer__language">
              <!-- <a class="n-footer__corp-link modaal" href="#n-language-selector-menu" data-modaal-scope="modaal_154143812867626e487b1a03c9"> -->
              <a class="n-footer__corp-link modaal" href="#n-language-selector-menu">
                <svg class="n-icon-baseline-language" aria-labelledby="title">
                  <title>netapp-globe</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/hci-solutions/common/svg/sprite.svg#globe"></use>
                </svg>
                English
              </a>
            </li>

</ul>
</div>
<div class="n-footer__social-links">
<ul class="n-footer__social-link-list">
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-blog" href="https://blog.netapp.com" target="_blank" title="blog" alt="blog">
<span class="n-footer__social-link-text">blog</span>
<svg class="n-icon-blog n-footer__social-link-icon" aria-labelledby="title">
  <title>blog@</title>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/hci-solutions/common/svg/sprite.svg#blog"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-community" href="https://community.netapp.com/" target="_blank" title="community" alt="community">
<span class="n-footer__social-link-text">community</span>
<svg class="n-icon-community n-footer__social-link-icon" aria-labelledby="title">
<title>community@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/hci-solutions/common/svg/sprite.svg#comments"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-twitter" href="https://twitter.com/netapp" target="_blank" title="twitter" alt="twitter">
<span class="n-footer__social-link-text">twitter</span>
<svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title">
<title>twitter@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/hci-solutions/common/svg/sprite.svg#twitter"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-facebook" href="https://www.facebook.com/NetApp" target="_blank" title="facebook" alt="facebook">
<span class="n-footer__social-link-text">facebook</span>
<svg class="n-icon-facebook n-footer__social-link-icon" aria-labelledby="title">
<title>facebook@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/hci-solutions/common/svg/sprite.svg#facebook"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-linkedin" href="https://www.linkedin.com/company/netapp" target="_blank" title="linkedin" alt="linkedin">
<span class="n-footer__social-link-text">linkedin</span>
<svg class="n-icon-linkedin n-footer__social-link-icon" aria-labelledby="title">
<title>linkedin@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/hci-solutions/common/svg/sprite.svg#linkedin"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-youtube" href="https://www.youtube.com/user/NetAppTV" target="_blank" title="youtube" alt="youtube">
<span class="n-footer__social-link-text">youtube</span>
<svg class="n-icon-youtube n-footer__social-link-icon" aria-labelledby="title">
<title>youtube@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/hci-solutions/common/svg/sprite.svg#youtube"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-slideshare" href="https://www.slideshare.net/NetApp" target="_blank" title="slideshare" alt="slideshare">
<span class="n-footer__social-link-text">slideshare</span>
<svg class="n-icon-slideshare n-footer__social-link-icon" aria-labelledby="title">
<title>slideshare@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/hci-solutions/common/svg/sprite.svg#slideshare"></use>
</svg>

</a>
</li>
</ul>
</div>

</div>
<div class="n-footer__bottom-right">
  <p class="n-footer__fine-print">


  Have feedback for our website?

  <a target="_self" href="javascript:netapp_mailto()" class="n-footer__copyright">Let us know</a>
  <a href="https://docs.netapp.com/us-en/announcements/" class="n-footer__copyright">Announcements</a>
  </p>
</div>
</div>
</div>
</footer>

      </div>

      <!-- Elasticsearch JS -->
      <script type="text/javascript" src='/hci-solutions/js/bundle.js'></script>

      <!-- Syntax Highlighting -->
      <script type="text/javascript" src='/hci-solutions/js/prism.js'></script>
      <script type="text/javascript" src='/hci-solutions/js/prism-curl.js'></script>
    </div>
    <script>
      document.body.offsetWidth=1903;
      cookieLaw = {}
      cookieLaw.euCountry = "US";
      cookieLaw.invoke = function(){return false;}
    </script>
    <script src='/hci-solutions/js/www-ntap.js'></script>
  </body>

  
</html>
